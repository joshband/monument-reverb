{
  "version": "0.1",
  "behavior_id": "smoke",
  "description": "Idle, breathing smoke-like field",
  "emission": {
    "mode": "continuous",
    "rate": 28,
    "burst": { "enabled": false, "trigger": "audio_peak", "count": 6, "cooldown_ms": 200 },
    "initial_state": {
      "velocity": { "type": "radial", "min": 0.01, "max": 0.04 },
      "energy": 0.8,
      "size": { "min": 0.9, "max": 1.5 }
    }
  },
  "forces": [
    { "type": "curl_noise", "strength": 0.28, "scale": 0.5, "time_scale": 0.15, "modulate_by": "audio_rms" },
    { "type": "cursor_field", "mode": "attract", "radius": 160, "strength": 0.2, "lag": 0.9 },
    { "type": "drag", "coefficient": 0.94 }
  ],
  "modulation": {
    "audio_inputs": {
      "rms": { "smoothing_ms": 80, "clamp": [0.0, 0.8] },
      "peak": { "smoothing_ms": 30, "threshold": 0.75 }
    },
    "bindings": [
      { "source": "rms", "target": "curl_noise.strength", "mode": "range", "range": [0.18, 0.4] }
    ]
  },
  "lifecycle": {
    "lifetime_ms": { "min": 1600, "max": 3200 },
    "energy_decay": { "type": "exponential", "rate": 0.5 },
    "size_decay": { "type": "linear", "rate": 0.12 }
  },
  "stability": {
    "max_particles": 420,
    "max_velocity": 1.6,
    "force_clamp": 0.9,
    "bounds": { "mode": "soft", "margin": 48 }
  }
}